<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaming Hub</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            margin-bottom: 10px;
        }

        .global-balance {
            background: rgba(255,255,255,0.2);
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 24px;
            font-weight: bold;
            display: inline-block;
            backdrop-filter: blur(10px);
        }

        .game-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            text-align: center;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .game-card h2 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .game-card p {
            color: #666;
        }

        .game-area {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
        }

        .game-area.active {
            display: block;
        }

        .back-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .back-btn:hover {
            background: #5568d3;
        }

        /* Minesweeper Styles */
        .minesweeper-grid {
            display: grid;
            gap: 2px;
            background: #ccc;
            padding: 2px;
            margin: 20px auto;
            width: fit-content;
        }

        .mine-cell {
            width: 35px;
            height: 35px;
            background: #ddd;
            border: 2px outset #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .mine-cell.revealed {
            background: #fff;
            border: 1px solid #999;
            cursor: default;
        }

        .mine-cell.flagged {
            background: #ffd700;
        }

        .mine-cell.mine {
            background: #ff4444;
        }

        /* Blackjack Styles */
        .blackjack-table {
            text-align: center;
        }

        .hand {
            margin: 20px 0;
            min-height: 120px;
        }

        .hand h3 {
            margin-bottom: 10px;
        }

        .cards {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .card {
            width: 70px;
            height: 100px;
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
        }

        .card.red {
            color: #ff0000;
        }

        .card.black {
            color: #000;
        }

        .bj-controls {
            margin-top: 20px;
        }

        .bj-controls button {
            margin: 5px;
            padding: 12px 24px;
            font-size: 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }

        .bj-controls button:hover {
            background: #5568d3;
        }

        .bj-controls button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Slots Styles */
        .slots-machine {
            text-align: center;
        }

        .reels {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
        }

        .reel {
            width: 100px;
            height: 100px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
        }

        .spin-btn {
            padding: 15px 40px;
            font-size: 20px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        .spin-btn:hover {
            background: #5568d3;
        }

        /* Mines Styles */
        .mines-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .mine-tile {
            aspect-ratio: 1;
            background: #667eea;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 30px;
            transition: all 0.3s;
        }

        .mine-tile:hover:not(:disabled) {
            background: #5568d3;
            transform: scale(1.05);
        }

        .mine-tile:disabled {
            cursor: not-allowed;
        }

        .mine-tile.safe {
            background: #4ade80;
            color: white;
        }

        .mine-tile.bomb {
            background: #ef4444;
            color: white;
        }

        .mines-controls {
            text-align: center;
            margin: 20px 0;
        }

        .mines-controls button {
            padding: 12px 24px;
            font-size: 16px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }

        .mines-controls button:hover {
            background: #5568d3;
        }

        .mines-stats {
            text-align: center;
            font-size: 18px;
            margin: 10px 0;
        }

        /* Plinko Styles */
        .plinko-container {
            text-align: center;
        }

        .plinko-board {
            position: relative;
            width: 600px;
            height: 500px;
            margin: 20px auto;
            background: linear-gradient(180deg, #f0f0f0 0%, #e0e0e0 100%);
            border-radius: 15px;
            border: 3px solid #667eea;
            overflow: hidden;
        }

        .plinko-ball {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle at 30% 30%, #ffd700, #ff8c00);
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            transition: all 0.1s linear;
        }

        .plinko-peg {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #667eea;
            border-radius: 50%;
        }

        .plinko-multipliers {
            display: flex;
            justify-content: space-around;
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 50px;
        }

        .multiplier-slot {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }

        .plinko-controls {
            margin: 20px 0;
        }

        .plinko-controls button {
            padding: 12px 30px;
            font-size: 18px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }

        .plinko-controls button:hover {
            background: #5568d3;
        }

        /* Roulette Styles */
        .roulette-container {
            text-align: center;
        }

        .roulette-wheel {
            width: 300px;
            height: 300px;
            margin: 20px auto;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                #e74c3c 0deg 30deg,
                #2c3e50 30deg 60deg,
                #e74c3c 60deg 90deg,
                #2c3e50 90deg 120deg,
                #e74c3c 120deg 150deg,
                #2c3e50 150deg 180deg,
                #e74c3c 180deg 210deg,
                #2c3e50 210deg 240deg,
                #e74c3c 240deg 270deg,
                #2c3e50 270deg 300deg,
                #e74c3c 300deg 330deg,
                #2c3e50 330deg 360deg
            );
            border: 10px solid #d4af37;
            position: relative;
            transition: transform 3s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        .roulette-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            background: #d4af37;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
        }

        .roulette-betting {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 10px;
            max-width: 600px;
            margin: 20px auto;
        }

        .bet-option {
            padding: 15px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
        }

        .bet-option:hover {
            background: #5568d3;
        }

        .bet-option.red {
            background: #e74c3c;
        }

        .bet-option.black {
            background: #2c3e50;
        }

        .bet-option.green {
            background: #27ae60;
        }

        .bet-option.red:hover {
            background: #c0392b;
        }

        .bet-option.black:hover {
            background: #1a252f;
        }

        .bet-option.green:hover {
            background: #229954;
        }

        .bet-option.selected {
            box-shadow: 0 0 0 4px #ffd700;
        }

        .roulette-controls {
            margin: 20px 0;
        }

        .roulette-controls button {
            padding: 12px 30px;
            font-size: 18px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
        }

        .roulette-controls button:hover {
            background: #5568d3;
        }

        .game-message {
            font-size: 24px;
            font-weight: bold;
            margin: 20px 0;
            min-height: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéÆ Gaming Hub</h1>
            <div class="global-balance">üí∞ Guthaben: <span id="global-balance">1000</span>‚Ç¨</div>
        </div>
        
        <div id="menu" class="game-selector">
            <div class="game-card" onclick="showGame('minesweeper')">
                <h2>üí£ Minesweeper</h2>
                <p>Klassisches Minenspiel</p>
            </div>
            <div class="game-card" onclick="showGame('blackjack')">
                <h2>üÉè Blackjack</h2>
                <p>21 oder bust!</p>
            </div>
            <div class="game-card" onclick="showGame('slots')">
                <h2>üé∞ Slots</h2>
                <p>Dreh dein Gl√ºck!</p>
            </div>
            <div class="game-card" onclick="showGame('mines')">
                <h2>üíé Mines</h2>
                <p>Finde die Diamanten!</p>
            </div>
            <div class="game-card" onclick="showGame('plinko')">
                <h2>üéØ Plinko</h2>
                <p>Lass den Ball fallen!</p>
            </div>
            <div class="game-card" onclick="showGame('roulette')">
                <h2>üé° Roulette</h2>
                <p>Rot oder Schwarz?</p>
            </div>
        </div>

        <!-- Minesweeper -->
        <div id="minesweeper" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <h2 style="text-align: center; color: #667eea;">Minesweeper</h2>
            <div style="text-align: center; margin: 20px 0;">
                <button class="back-btn" onclick="initMinesweeper()">Neues Spiel</button>
                <div class="mines-stats">
                    Minen: <span id="ms-mines">10</span> | Flaggen: <span id="ms-flags">0</span>
                </div>
            </div>
            <div id="minesweeper-grid" class="minesweeper-grid"></div>
        </div>

        <!-- Blackjack -->
        <div id="blackjack" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <div class="blackjack-table">
                <h2 style="color: #667eea;">Blackjack</h2>
                <div class="hand">
                    <h3>Dealer (<span id="dealer-score">0</span>)</h3>
                    <div id="dealer-cards" class="cards"></div>
                </div>
                <div class="hand">
                    <h3>Spieler (<span id="player-score">0</span>)</h3>
                    <div id="player-cards" class="cards"></div>
                </div>
                <div id="bj-message" class="game-message"></div>
                <div class="bj-controls">
                    <button onclick="bjHit()">Hit</button>
                    <button onclick="bjStand()">Stand</button>
                    <button onclick="bjNewGame()">Neues Spiel (50‚Ç¨)</button>
                </div>
            </div>
        </div>

        <!-- Slots -->
        <div id="slots" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <div class="slots-machine">
                <h2 style="color: #667eea;">Slot Machine</h2>
                <div class="reels">
                    <div class="reel" id="reel1">üçí</div>
                    <div class="reel" id="reel2">üçã</div>
                    <div class="reel" id="reel3">üçä</div>
                </div>
                <div id="slots-message" class="game-message"></div>
                <button class="spin-btn" onclick="spinSlots()">SPIN (10‚Ç¨)</button>
            </div>
        </div>

        <!-- Mines -->
        <div id="mines" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <h2 style="text-align: center; color: #667eea;">Mines</h2>
            <div class="mines-stats">
                Multiplikator: <span id="mines-multiplier">1.00x</span> | 
                Gewinn: <span id="mines-profit">0</span>‚Ç¨
            </div>
            <div id="mines-grid" class="mines-grid"></div>
            <div class="mines-controls">
                <button onclick="minesCashout()">Auszahlen</button>
                <button onclick="initMines()">Neues Spiel (10‚Ç¨)</button>
            </div>
        </div>

        <!-- Plinko -->
        <div id="plinko" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <div class="plinko-container">
                <h2 style="color: #667eea;">Plinko</h2>
                <div id="plinko-board" class="plinko-board">
                    <div class="plinko-multipliers">
                        <div class="multiplier-slot" style="background: #e74c3c;">10x</div>
                        <div class="multiplier-slot" style="background: #e67e22;">5x</div>
                        <div class="multiplier-slot" style="background: #f39c12;">2x</div>
                        <div class="multiplier-slot" style="background: #27ae60;">1.5x</div>
                        <div class="multiplier-slot" style="background: #3498db;">1x</div>
                        <div class="multiplier-slot" style="background: #27ae60;">1.5x</div>
                        <div class="multiplier-slot" style="background: #f39c12;">2x</div>
                        <div class="multiplier-slot" style="background: #e67e22;">5x</div>
                        <div class="multiplier-slot" style="background: #e74c3c;">10x</div>
                    </div>
                </div>
                <div id="plinko-message" class="game-message"></div>
                <div class="plinko-controls">
                    <button onclick="dropPlinko()">Ball werfen (20‚Ç¨)</button>
                </div>
            </div>
        </div>

        <!-- Roulette -->
        <div id="roulette" class="game-area">
            <button class="back-btn" onclick="showMenu()">‚Üê Zur√ºck zum Men√º</button>
            <div class="roulette-container">
                <h2 style="color: #667eea;">Roulette</h2>
                <div id="roulette-wheel" class="roulette-wheel">
                    <div class="roulette-center" id="roulette-result">0</div>
                </div>
                <div id="roulette-message" class="game-message"></div>
                <h3 style="margin: 20px 0;">W√§hle deinen Einsatz (50‚Ç¨):</h3>
                <div class="roulette-betting">
                    <button class="bet-option red" onclick="selectBet('red')">Rot (2x)</button>
                    <button class="bet-option black" onclick="selectBet('black')">Schwarz (2x)</button>
                    <button class="bet-option green" onclick="selectBet('green')">Gr√ºn 0 (14x)</button>
                    <button class="bet-option" onclick="selectBet('even')">Gerade (2x)</button>
                    <button class="bet-option" onclick="selectBet('odd')">Ungerade (2x)</button>
                    <button class="bet-option" onclick="selectBet('1-18')">1-18 (2x)</button>
                    <button class="bet-option" onclick="selectBet('19-36')">19-36 (2x)</button>
                </div>
                <div class="roulette-controls">
                    <button onclick="spinRoulette()">Drehen!</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global balance
        let globalBalance = 1000;

        function updateBalance(amount) {
            globalBalance += amount;
            document.getElementById('global-balance').textContent = globalBalance;
        }

        function showMenu() {
            document.querySelectorAll('.game-area').forEach(area => area.classList.remove('active'));
            document.getElementById('menu').style.display = 'grid';
        }

        function showGame(game) {
            document.getElementById('menu').style.display = 'none';
            document.getElementById(game).classList.add('active');
            
            if (game === 'minesweeper') initMinesweeper();
            if (game === 'blackjack') bjNewGame();
            if (game === 'plinko') initPlinko();
            if (game === 'roulette') initRoulette();
        }

        // ==================== MINESWEEPER ====================
        let msGrid = [];
        let msRevealed = 0;
        let msFlags = 0;
        const MS_SIZE = 10;
        const MS_MINES = 10;

        function initMinesweeper() {
            msGrid = [];
            msRevealed = 0;
            msFlags = 0;
            document.getElementById('ms-flags').textContent = msFlags;
            
            for (let i = 0; i < MS_SIZE; i++) {
                msGrid[i] = [];
                for (let j = 0; j < MS_SIZE; j++) {
                    msGrid[i][j] = { mine: false, revealed: false, flagged: false, adjacent: 0 };
                }
            }
            
            let placed = 0;
            while (placed < MS_MINES) {
                const x = Math.floor(Math.random() * MS_SIZE);
                const y = Math.floor(Math.random() * MS_SIZE);
                if (!msGrid[x][y].mine) {
                    msGrid[x][y].mine = true;
                    placed++;
                }
            }
            
            for (let i = 0; i < MS_SIZE; i++) {
                for (let j = 0; j < MS_SIZE; j++) {
                    if (!msGrid[i][j].mine) {
                        let count = 0;
                        for (let di = -1; di <= 1; di++) {
                            for (let dj = -1; dj <= 1; dj++) {
                                const ni = i + di, nj = j + dj;
                                if (ni >= 0 && ni < MS_SIZE && nj >= 0 && nj < MS_SIZE && msGrid[ni][nj].mine) {
                                    count++;
                                }
                            }
                        }
                        msGrid[i][j].adjacent = count;
                    }
                }
            }
            
            renderMinesweeper();
        }

        function renderMinesweeper() {
            const gridEl = document.getElementById('minesweeper-grid');
            gridEl.style.gridTemplateColumns = `repeat(${MS_SIZE}, 35px)`;
            gridEl.innerHTML = '';
            
            for (let i = 0; i < MS_SIZE; i++) {
                for (let j = 0; j < MS_SIZE; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'mine-cell';
                    if (msGrid[i][j].revealed) {
                        cell.classList.add('revealed');
                        if (msGrid[i][j].mine) {
                            cell.classList.add('mine');
                            cell.textContent = 'üí£';
                        } else if (msGrid[i][j].adjacent > 0) {
                            cell.textContent = msGrid[i][j].adjacent;
                            cell.style.color = ['', 'blue', 'green', 'red', 'purple', 'maroon', 'turquoise', 'black', 'gray'][msGrid[i][j].adjacent];
                        }
                    } else if (msGrid[i][j].flagged) {
                        cell.classList.add('flagged');
                        cell.textContent = 'üö©';
                    }
                    
                    cell.onclick = () => msReveal(i, j);
                    cell.oncontextmenu = (e) => {
                        e.preventDefault();
                        msFlag(i, j);
                    };
                    
                    gridEl.appendChild(cell);
                }
            }
        }

        function msReveal(x, y) {
            if (msGrid[x][y].revealed || msGrid[x][y].flagged) return;
            
            msGrid[x][y].revealed = true;
            msRevealed++;
            
            if (msGrid[x][y].mine) {
                for (let i = 0; i < MS_SIZE; i++) {
                    for (let j = 0; j < MS_SIZE; j++) {
                        msGrid[i][j].revealed = true;
                    }
                }
                alert('üí£ Boom! Spiel verloren!');
            } else if (msGrid[x][y].adjacent === 0) {
                for (let di = -1; di <= 1; di++) {
                    for (let dj = -1; dj <= 1; dj++) {
                        const ni = x + di, nj = y + dj;
                        if (ni >= 0 && ni < MS_SIZE && nj >= 0 && nj < MS_SIZE) {
                            msReveal(ni, nj);
                        }
                    }
                }
            }
            
            if (msRevealed === MS_SIZE * MS_SIZE - MS_MINES) {
                alert('üéâ Gewonnen!');
            }
            
            renderMinesweeper();
        }

        function msFlag(x, y) {
            if (msGrid[x][y].revealed) return;
            msGrid[x][y].flagged = !msGrid[x][y].flagged;
            msFlags += msGrid[x][y].flagged ? 1 : -1;
            document.getElementById('ms-flags').textContent = msFlags;
            renderMinesweeper();
        }

        // ==================== BLACKJACK ====================
        let bjDeck = [];
        let bjPlayerHand = [];
        let bjDealerHand = [];
        let bjGameOver = false;

        function bjNewGame() {
            if (globalBalance < 50) {
                alert('Nicht genug Guthaben!');
                return;
            }

            updateBalance(-50);

            bjDeck = [];
            const suits = ['‚ô†', '‚ô•', '‚ô¶', '‚ô£'];
            const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
            
            for (let suit of suits) {
                for (let value of values) {
                    bjDeck.push({ suit, value });
                }
            }
            
            bjDeck.sort(() => Math.random() - 0.5);
            
            bjPlayerHand = [bjDeck.pop(), bjDeck.pop()];
            bjDealerHand = [bjDeck.pop(), bjDeck.pop()];
            bjGameOver = false;
            
            document.getElementById('bj-message').textContent = '';
            bjRender();
        }

        function bjGetValue(card) {
            if (card.value === 'A') return 11;
            if (['J', 'Q', 'K'].includes(card.value)) return 10;
            return parseInt(card.value);
        }

        function bjGetScore(hand) {
            let score = 0;
            let aces = 0;
            
            for (let card of hand) {
                score += bjGetValue(card);
                if (card.value === 'A') aces++;
            }
            
            while (score > 21 && aces > 0) {
                score -= 10;
                aces--;
            }
            
            return score;
        }

        function bjRender() {
            const playerCards = document.getElementById('player-cards');
            const dealerCards = document.getElementById('dealer-cards');
            
            playerCards.innerHTML = '';
            dealerCards.innerHTML = '';
            
            for (let card of bjPlayerHand) {
                const cardEl = document.createElement('div');
                cardEl.className = 'card ' + (['‚ô•', '‚ô¶'].includes(card.suit) ? 'red' : 'black');
                cardEl.textContent = card.value + card.suit;
                playerCards.appendChild(cardEl);
            }
            
            for (let i = 0; i < bjDealerHand.length; i++) {
                const cardEl = document.createElement('div');
                if (i === 0 && !bjGameOver) {
                    cardEl.className = 'card';
                    cardEl.textContent = 'üÇ†';
                    cardEl.style.background = '#667eea';
                    cardEl.style.color = 'white';
                } else {
                    const card = bjDealerHand[i];
                    cardEl.className = 'card ' + (['‚ô•', '‚ô¶'].includes(card.suit) ? 'red' : 'black');
                    cardEl.textContent = card.value + card.suit;
                }
                dealerCards.appendChild(cardEl);
            }
            
            document.getElementById('player-score').textContent = bjGetScore(bjPlayerHand);
            document.getElementById('dealer-score').textContent = bjGameOver ? bjGetScore(bjDealerHand) : '?';
        }

        function bjHit() {
            if (bjGameOver) return;
            bjPlayerHand.push(bjDeck.pop());
            const score = bjGetScore(bjPlayerHand);
            
            if (score > 21) {
                bjGameOver = true;
                document.getElementById('bj-message').textContent = 'üí• Bust! Dealer gewinnt!';
                document.getElementById('bj-message').style.color = '#ef4444';
            }
            
            bjRender();
        }

        function bjStand() {
            if (bjGameOver) return;
            bjGameOver = true;
            
            while (bjGetScore(bjDealerHand) < 17) {
                bjDealerHand.push(bjDeck.pop());
            }
            
            const playerScore = bjGetScore(bjPlayerHand);
            const dealerScore = bjGetScore(bjDealerHand);
            
            let message = '';
            if (dealerScore > 21) {
                message = 'üéâ Dealer Bust! Du gewinnst!';
                document.getElementById('bj-message').style.color = '#4ade80';
                updateBalance(100);
            } else if (playerScore > dealerScore) {
                message = 'üéâ Du gewinnst!';
                document.getElementById('bj-message').style.color = '#4ade80';
                updateBalance(100);
            } else if (playerScore < dealerScore) {
                message = 'üòû Dealer gewinnt!';
                document.getElementById('bj-message').style.color = '#ef4444';
            } else {
                message = 'ü§ù Unentschieden!';
                document.getElementById('bj-message').style.color = '#667eea';
                updateBalance(50);
            }
            
            document.getElementById('bj-message').textContent = message;
            bjRender();
        }

        // ==================== SLOTS ====================
        const slotsSymbols = ['üçí', 'üçã', 'üçä', 'üçá', 'üçâ', '‚≠ê', 'üíé'];

        function spinSlots() {
            if (globalBalance < 10) {
                alert('Nicht genug Guthaben!');
                return;
            }
            
            updateBalance(-10);
            
            let spins = 0;
            const interval = setInterval(() => {
                document.getElementById('reel1').textContent = slotsSymbols[Math.floor(Math.random() * slotsSymbols.length)];
                document.getElementById('reel2').textContent = slotsSymbols[Math.floor(Math.random() * slotsSymbols.length)];
                document.getElementById('reel3').textContent = slotsSymbols[Math.floor(Math.random() * slotsSymbols.length)];
                
                spins++;
                if (spins > 20) {
                    clearInterval(interval);
                    checkSlotsWin();
                }
            }, 50);
        }

        function checkSlotsWin() {
            const r1 = document.getElementById('reel1').textContent;
            const r2 = document.getElementById('reel2').textContent;
            const r3 = document.getElementById('reel3').textContent;
            
            const msg = document.getElementById('slots-message');
            
            if (r1 === r2 && r2 === r3) {
                let win = 0;
                if (r1 === 'üíé') win = 500;
                else if (r1 === '‚≠ê') win = 200;
                else if (r1 === 'üçá') win = 100;
                else win = 50;
                
                updateBalance(win);
                msg.textContent = `üéâ JACKPOT! +${win}‚Ç¨`;
                msg.style.color = '#4ade80';
            } else if (r1 === r2 || r2 === r3 || r1 === r3) {
                updateBalance(20);
                msg.textContent = '‚ú® Kleiner Gewinn! +20‚Ç¨';
                msg.style.color = '#667eea';
            } else {
                msg.textContent = 'üòû Leider verloren!';
                msg.style.color = '#ef4444';
            }
        }

        // ==================== MINES ====================
        let minesGrid = [];
        let minesRevealed = 0;
        let minesBombs = 5;
        let minesActive = false;
        const MINES_SIZE = 25;

        function initMines() {
            if (globalBalance < 10) {
                alert('Nicht genug Guthaben!');
                return;
            }
            
            updateBalance(-10);
            
            minesGrid = new Array(MINES_SIZE).fill(false);
            minesRevealed = 0;
            minesActive = true;
            
            let placed = 0;
            while (placed < minesBombs) {
                const pos = Math.floor(Math.random() * MINES_SIZE);
                if (!minesGrid[pos]) {
                    minesGrid[pos] = true;
                    placed++;
                }
            }
            
            document.getElementById('mines-multiplier').textContent = '1.00x';
            document.getElementById('mines-profit').textContent = '0';
            
            renderMines();
        }

        function renderMines() {
            const grid = document.getElementById('mines-grid');
            grid.innerHTML = '';
            
            for (let i = 0; i < MINES_SIZE; i++) {
                const tile = document.createElement('button');
                tile.className = 'mine-tile';
                tile.onclick = () => minesClick(i, tile);
                grid.appendChild(tile);
            }
        }

        function minesClick(index, tile) {
            if (!minesActive || tile.disabled) return;
            
            tile.disabled = true;
            
            if (minesGrid[index]) {
                tile.classList.add('bomb');
                tile.textContent = 'üí£';
                minesActive = false;
                
                setTimeout(() => {
                    const tiles = document.querySelectorAll('.mine-tile');
                    tiles.forEach((t, i) => {
                        if (minesGrid[i]) {
                            t.classList.add('bomb');
                            t.textContent = 'üí£';
                        }
                    });
                    alert('üí• Boom! Spiel verloren!');
                }, 500);
            } else {
                tile.classList.add('safe');
                tile.textContent = 'üíé';
                minesRevealed++;
                
                const multiplier = 1 + (minesRevealed * 0.3);
                const profit = Math.floor(10 * multiplier) - 10;
                
                document.getElementById('mines-multiplier').textContent = multiplier.toFixed(2) + 'x';
                document.getElementById('mines-profit').textContent = profit;
                
                if (minesRevealed === MINES_SIZE - minesBombs) {
                    minesActive = false;
                    setTimeout(() => minesCashout(), 500);
                }
            }
        }

        function minesCashout() {
            if (!minesActive && minesRevealed === 0) return;
            
            const multiplier = 1 + (minesRevealed * 0.3);
            const profit = Math.floor(10 * multiplier);
            
            updateBalance(profit);
            
            alert(`üí∞ Ausgezahlt! +${profit}‚Ç¨`);
            minesActive = false;
        }

        // ==================== PLINKO ====================
        let plinkoAnimating = false;

        function initPlinko() {
            const board = document.getElementById('plinko-board');
            board.querySelectorAll('.plinko-peg').forEach(peg => peg.remove());
            
            const rows = 12;
            const boardWidth = 600;
            const boardHeight = 450;
            
            for (let row = 1; row <= rows; row++) {
                const pegsInRow = row + 2;
                const spacing = boardWidth / (pegsInRow + 1);
                
                for (let i = 1; i <= pegsInRow; i++) {
                    const peg = document.createElement('div');
                    peg.className = 'plinko-peg';
                    peg.style.left = (i * spacing) + 'px';
                    peg.style.top = (row * (boardHeight / (rows + 1))) + 'px';
                    board.appendChild(peg);
                }
            }
        }

        function dropPlinko() {
            if (plinkoAnimating) return;
            if (globalBalance < 20) {
                alert('Nicht genug Guthaben!');
                return;
            }
            
            updateBalance(-20);
            plinkoAnimating = true;
            
            const board = document.getElementById('plinko-board');
            const ball = document.createElement('div');
            ball.className = 'plinko-ball';
            ball.style.left = '290px';
            ball.style.top = '10px';
            board.appendChild(ball);
            
            let position = 300;
            let row = 0;
            const rows = 12;
            
            const interval = setInterval(() => {
                row++;
                const direction = Math.random() > 0.5 ? 1 : -1;
                position += direction * 30;
                
                ball.style.left = position + 'px';
                ball.style.top = (row * 37.5) + 'px';
                
                if (row >= rows) {
                    clearInterval(interval);
                    
                    const slotWidth = 600 / 9;
                    const slotIndex = Math.floor(position / slotWidth);
                    const multipliers = [10, 5, 2, 1.5, 1, 1.5, 2, 5, 10];
                    const multiplier = multipliers[Math.max(0, Math.min(8, slotIndex))];
                    
                    const win = Math.floor(20 * multiplier);
                    updateBalance(win);
                    
                    const msg = document.getElementById('plinko-message');
                    msg.textContent = `üéØ ${multiplier}x Multiplikator! Gewinn: ${win}‚Ç¨`;
                    msg.style.color = multiplier >= 5 ? '#4ade80' : '#667eea';
                    
                    setTimeout(() => {
                        ball.remove();
                        plinkoAnimating = false;
                    }, 1000);
                }
            }, 100);
        }

        // ==================== ROULETTE ====================
        let rouletteBet = null;
        let rouletteSpinning = false;

        function initRoulette() {
            rouletteBet = null;
            rouletteSpinning = false;
            document.getElementById('roulette-message').textContent = '';
        }

        function selectBet(bet) {
            if (rouletteSpinning) return;
            
            document.querySelectorAll('.bet-option').forEach(btn => btn.classList.remove('selected'));
            event.target.classList.add('selected');
            rouletteBet = bet;
        }

        function spinRoulette() {
            if (!rouletteBet) {
                alert('Bitte w√§hle zuerst einen Einsatz!');
                return;
            }
            
            if (globalBalance < 50) {
                alert('Nicht genug Guthaben!');
                return;
            }
            
            if (rouletteSpinning) return;
            
            updateBalance(-50);
            rouletteSpinning = true;
            
            const wheel = document.getElementById('roulette-wheel');
            const result = Math.floor(Math.random() * 37);
            
            const spins = 5;
            const rotation = (spins * 360) + (result * (360 / 37));
            
            wheel.style.transform = `rotate(${rotation}deg)`;
            
            setTimeout(() => {
                document.getElementById('roulette-result').textContent = result;
                
                let won = false;
                let payout = 0;
                const msg = document.getElementById('roulette-message');
                
                if (rouletteBet === 'green' && result === 0) {
                    won = true;
                    payout = 700;
                } else if (rouletteBet === 'red' && result !== 0 && [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36].includes(result)) {
                    won = true;
                    payout = 100;
                } else if (rouletteBet === 'black' && result !== 0 && [2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35].includes(result)) {
                    won = true;
                    payout = 100;
                } else if (rouletteBet === 'even' && result !== 0 && result % 2 === 0) {
                    won = true;
                    payout = 100;
                } else if (rouletteBet === 'odd' && result % 2 === 1) {
                    won = true;
                    payout = 100;
                } else if (rouletteBet === '1-18' && result >= 1 && result <= 18) {
                    won = true;
                    payout = 100;
                } else if (rouletteBet === '19-36' && result >= 19 && result <= 36) {
                    won = true;
                    payout = 100;
                }
                
                if (won) {
                    updateBalance(payout);
                    msg.textContent = `üéâ Gewonnen! +${payout}‚Ç¨`;
                    msg.style.color = '#4ade80';
                } else {
                    msg.textContent = 'üòû Verloren!';
                    msg.style.color = '#ef4444';
                }
                
                rouletteSpinning = false;
                document.querySelectorAll('.bet-option').forEach(btn => btn.classList.remove('selected'));
                rouletteBet = null;
            }, 3000);
        }
    </script>
</body>
</html>
