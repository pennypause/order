<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√§ckerei Bestellsystem</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide Icons als SVG
        const ShoppingCart = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
            </svg>
        );

        const Trash2 = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                <line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/>
            </svg>
        );

        const Edit2 = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"/>
            </svg>
        );

        const Plus = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
        );

        const LogOut = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                <polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/>
            </svg>
        );

        const LogIn = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
                <polyline points="10 17 15 12 10 7"/><line x1="15" y1="12" x2="3" y2="12"/>
            </svg>
        );

        const Check = ({ size = 24 }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polyline points="20 6 9 17 4 12"/>
            </svg>
        );

        // LocalStorage Helper
        const useLocalStorage = (key, initialValue) => {
            const [storedValue, setStoredValue] = useState(() => {
                try {
                    const item = window.localStorage.getItem(key);
                    return item ? JSON.parse(item) : initialValue;
                } catch (error) {
                    return initialValue;
                }
            });

            const setValue = (value) => {
                try {
                    setStoredValue(value);
                    window.localStorage.setItem(key, JSON.stringify(value));
                } catch (error) {
                    console.error(error);
                }
            };

            return [storedValue, setValue];
        };

        // Data Management Hook
        const useFirebase = () => {
            const [products, setProducts] = useLocalStorage('bakery_products', [
                { 
                    id: 1, 
                    name: 'Croissant', 
                    price: 2.50, 
                    imageUrl: 'https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400', 
                    description: 'Buttrig und knusprig',
                    totalSold: 0
                },
                { 
                    id: 2, 
                    name: 'Brezel', 
                    price: 1.80, 
                    imageUrl: 'https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=400', 
                    description: 'Frisch gebacken',
                    totalSold: 0
                },
                { 
                    id: 3, 
                    name: 'Baguette', 
                    price: 3.20, 
                    imageUrl: 'https://images.unsplash.com/photo-1549931319-a545dcf3bc73?w=400', 
                    description: 'Franz√∂sisches Baguette',
                    totalSold: 0
                },
                { 
                    id: 4, 
                    name: 'Br√∂tchen', 
                    price: 0.60, 
                    imageUrl: 'https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400', 
                    description: 'Klassisches Br√∂tchen',
                    totalSold: 0
                },
            ]);
            
            const [orders, setOrders] = useLocalStorage('bakery_orders', []);
            const [deliveryCost] = useState(3.50);

            const addOrder = (order) => {
                const newOrder = {
                    ...order,
                    id: Date.now(),
                    timestamp: new Date().toISOString(),
                    status: 'pending'
                };
                setOrders(prev => [newOrder, ...prev]);

                // Update product sales statistics
                const updatedProducts = products.map(p => {
                    const orderItem = order.items.find(item => item.id === p.id);
                    if (orderItem) {
                        return { ...p, totalSold: (p.totalSold || 0) + orderItem.quantity };
                    }
                    return p;
                });
                setProducts(updatedProducts);

                console.log('Order Analytics:', {
                    orderId: newOrder.id,
                    items: order.items.map(item => ({
                        productId: item.id,
                        productName: item.name,
                        quantity: item.quantity,
                        price: item.price
                    })),
                    totalValue: order.total,
                    timestamp: newOrder.timestamp
                });
            };

            const updateOrder = (id, updates) => {
                setOrders(prev => prev.map(o => o.id === id ? { ...o, ...updates } : o));
            };

            const deleteOrder = (id) => {
                setOrders(prev => prev.filter(o => o.id !== id));
            };

            const updateProduct = (id, updates) => {
                setProducts(prev => prev.map(p => p.id === id ? { ...p, ...updates } : p));
            };

            const addProduct = (product) => {
                setProducts(prev => [...prev, { ...product, id: Date.now(), totalSold: 0 }]);
            };

            const deleteProduct = (id) => {
                setProducts(prev => prev.filter(p => p.id !== id));
            };

            return {
                products,
                orders,
                deliveryCost,
                addOrder,
                updateOrder,
                deleteOrder,
                updateProduct,
                addProduct,
                deleteProduct
            };
        };

        const BakeryOrderSystem = () => {
            const {
                products,
                orders,
                deliveryCost,
                addOrder,
                updateOrder,
                deleteOrder,
                updateProduct,
                addProduct,
                deleteProduct
            } = useFirebase();

            const [cart, setCart] = useState([]);
            const [customerName, setCustomerName] = useState('');
            const [specialRequests, setSpecialRequests] = useState('');
            const [isAdmin, setIsAdmin] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');
            const [view, setView] = useState('products');
            const [editingProduct, setEditingProduct] = useState(null);
            const [imageError, setImageError] = useState({});

            const addToCart = (product) => {
                const existing = cart.find(item => item.id === product.id);
                if (existing) {
                    setCart(cart.map(item =>
                        item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item
                    ));
                } else {
                    setCart([...cart, { ...product, quantity: 1 }]);
                }
            };

            const updateCartQuantity = (id, quantity) => {
                if (quantity <= 0) {
                    setCart(cart.filter(item => item.id !== id));
                } else {
                    setCart(cart.map(item =>
                        item.id === id ? { ...item, quantity } : item
                    ));
                }
            };

            const calculateTotal = () => {
                const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                return subtotal + deliveryCost;
            };

            const submitOrder = () => {
                if (!customerName.trim() || cart.length === 0) {
                    alert('Bitte Name eingeben und Produkte ausw√§hlen!');
                    return;
                }

                addOrder({
                    customerName,
                    items: cart,
                    specialRequests,
                    total: calculateTotal(),
                    deliveryCost
                });

                alert('Bestellung erfolgreich aufgegeben!');
                setCart([]);
                setCustomerName('');
                setSpecialRequests('');
                setView('products');
            };

            const adminLogin = () => {
                if (adminPassword === 'admin123') {
                    setIsAdmin(true);
                    setView('admin');
                    setAdminPassword('');
                } else {
                    alert('Falsches Passwort!');
                }
            };

            const formatTime = (timestamp) => {
                const date = new Date(timestamp);
                return date.toLocaleString('de-DE');
            };

            const handleImageError = (productId) => {
                setImageError(prev => ({ ...prev, [productId]: true }));
            };

            // Customer View - Products
            if (view === 'products' && !isAdmin) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4">
                        <div className="max-w-6xl mx-auto">
                            <header className="bg-white rounded-lg shadow-lg p-6 mb-6">
                                <div className="flex justify-between items-center">
                                    <div>
                                        <h1 className="text-3xl font-bold text-orange-600">B√§ckerei Bestellsystem</h1>
                                        <p className="text-gray-600 mt-1">Frische Backwaren direkt zu dir</p>
                                    </div>
                                    <div className="flex gap-3">
                                        <button
                                            onClick={() => setView('cart')}
                                            className="bg-orange-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-orange-600"
                                        >
                                            <ShoppingCart size={20} />
                                            <span>Warenkorb ({cart.length})</span>
                                        </button>
                                        <button
                                            onClick={() => setView('adminLogin')}
                                            className="bg-gray-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-600"
                                        >
                                            <LogIn size={20} />
                                        </button>
                                    </div>
                                </div>
                            </header>

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {products.map(product => (
                                    <div
                                        key={product.id}
                                        className="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow cursor-pointer"
                                        onClick={() => addToCart(product)}
                                    >
                                        <div className="aspect-square bg-gradient-to-br from-orange-100 to-red-100 flex items-center justify-center overflow-hidden">
                                            {imageError[product.id] ? (
                                                <div className="text-6xl">üçû</div>
                                            ) : (
                                                <img 
                                                    src={product.imageUrl} 
                                                    alt={product.name}
                                                    className="w-full h-full object-cover"
                                                    onError={() => handleImageError(product.id)}
                                                />
                                            )}
                                        </div>
                                        <div className="p-4">
                                            <h3 className="font-bold text-xl text-gray-800">{product.name}</h3>
                                            <p className="text-gray-600 text-sm mt-1">{product.description}</p>
                                            <div className="mt-3 flex justify-between items-center">
                                                <span className="text-2xl font-bold text-orange-600">{product.price.toFixed(2)} ‚Ç¨</span>
                                                <button className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600">
                                                    Hinzuf√ºgen
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            // Cart View
            if (view === 'cart') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4">
                        <div className="max-w-4xl mx-auto">
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold text-gray-800">Warenkorb</h2>
                                    <button
                                        onClick={() => setView('products')}
                                        className="text-orange-600 hover:text-orange-700"
                                    >
                                        ‚Üê Zur√ºck
                                    </button>
                                </div>

                                {cart.length === 0 ? (
                                    <p className="text-gray-600 text-center py-8">Warenkorb ist leer</p>
                                ) : (
                                    <>
                                        <div className="space-y-4 mb-6">
                                            {cart.map(item => (
                                                <div key={item.id} className="flex items-center gap-4 border-b pb-4">
                                                    <div className="w-16 h-16 bg-gradient-to-br from-orange-100 to-red-100 rounded-lg overflow-hidden flex-shrink-0">
                                                        {imageError[item.id] ? (
                                                            <div className="w-full h-full flex items-center justify-center text-2xl">üçû</div>
                                                        ) : (
                                                            <img 
                                                                src={item.imageUrl} 
                                                                alt={item.name}
                                                                className="w-full h-full object-cover"
                                                                onError={() => handleImageError(item.id)}
                                                            />
                                                        )}
                                                    </div>
                                                    <div className="flex-1">
                                                        <h3 className="font-bold">{item.name}</h3>
                                                        <p className="text-gray-600">{item.price.toFixed(2)} ‚Ç¨ / St√ºck</p>
                                                    </div>
                                                    <div className="flex items-center gap-2">
                                                        <button
                                                            onClick={() => updateCartQuantity(item.id, item.quantity - 1)}
                                                            className="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300"
                                                        >
                                                            -
                                                        </button>
                                                        <span className="font-bold px-3">{item.quantity}</span>
                                                        <button
                                                            onClick={() => updateCartQuantity(item.id, item.quantity + 1)}
                                                            className="bg-gray-200 px-3 py-1 rounded hover:bg-gray-300"
                                                        >
                                                            +
                                                        </button>
                                                    </div>
                                                    <div className="font-bold text-orange-600 w-24 text-right">
                                                        {(item.price * item.quantity).toFixed(2)} ‚Ç¨
                                                    </div>
                                                </div>
                                            ))}
                                        </div>

                                        <div className="space-y-4 mb-6">
                                            <input
                                                type="text"
                                                placeholder="Dein Name"
                                                value={customerName}
                                                onChange={(e) => setCustomerName(e.target.value)}
                                                className="w-full border border-gray-300 rounded-lg px-4 py-2"
                                            />
                                            <textarea
                                                placeholder="Extraw√ºnsche (optional)"
                                                value={specialRequests}
                                                onChange={(e) => setSpecialRequests(e.target.value)}
                                                className="w-full border border-gray-300 rounded-lg px-4 py-2 h-24"
                                            />
                                        </div>

                                        <div className="border-t pt-4 space-y-2">
                                            <div className="flex justify-between">
                                                <span>Zwischensumme:</span>
                                                <span>{(calculateTotal() - deliveryCost).toFixed(2)} ‚Ç¨</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span>Lieferkosten:</span>
                                                <span>{deliveryCost.toFixed(2)} ‚Ç¨</span>
                                            </div>
                                            <div className="flex justify-between text-xl font-bold text-orange-600 border-t pt-2">
                                                <span>Gesamt:</span>
                                                <span>{calculateTotal().toFixed(2)} ‚Ç¨</span>
                                            </div>
                                        </div>

                                        <button
                                            onClick={submitOrder}
                                            className="w-full bg-orange-500 text-white py-3 rounded-lg mt-6 hover:bg-orange-600 font-bold"
                                        >
                                            Bestellung aufgeben
                                        </button>
                                    </>
                                )}
                            </div>
                        </div>
                    </div>
                );
            }

            // Admin Login
            if (view === 'adminLogin') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4 flex items-center justify-center">
                        <div className="bg-white rounded-lg shadow-lg p-8 w-full max-w-md">
                            <h2 className="text-2xl font-bold text-gray-800 mb-6">Admin Login</h2>
                            <input
                                type="password"
                                placeholder="Passwort"
                                value={adminPassword}
                                onChange={(e) => setAdminPassword(e.target.value)}
                                onKeyPress={(e) => e.key === 'Enter' && adminLogin()}
                                className="w-full border border-gray-300 rounded-lg px-4 py-2 mb-4"
                            />
                            <div className="flex gap-3">
                                <button
                                    onClick={adminLogin}
                                    className="flex-1 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600"
                                >
                                    Login
                                </button>
                                <button
                                    onClick={() => setView('products')}
                                    className="flex-1 bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400"
                                >
                                    Abbrechen
                                </button>
                            </div>
                            <p className="text-sm text-gray-500 mt-4">Demo Passwort: admin123</p>
                        </div>
                    </div>
                );
            }

            // Admin View - Orders
            if (view === 'admin' && isAdmin) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4">
                        <div className="max-w-6xl mx-auto">
                            <header className="bg-white rounded-lg shadow-lg p-6 mb-6">
                                <div className="flex justify-between items-center">
                                    <h1 className="text-3xl font-bold text-orange-600">Admin Bereich</h1>
                                    <div className="flex gap-3">
                                        <button
                                            onClick={() => setView('adminProducts')}
                                            className="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
                                        >
                                            Produkte verwalten
                                        </button>
                                        <button
                                            onClick={() => {
                                                setIsAdmin(false);
                                                setView('products');
                                            }}
                                            className="bg-gray-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-gray-600"
                                        >
                                            <LogOut size={20} />
                                            Logout
                                        </button>
                                    </div>
                                </div>
                            </header>

                            <div className="space-y-4">
                                {orders.length === 0 ? (
                                    <div className="bg-white rounded-lg shadow-lg p-8 text-center text-gray-600">
                                        Keine Bestellungen vorhanden
                                    </div>
                                ) : (
                                    orders.map(order => (
                                        <div key={order.id} className="bg-white rounded-lg shadow-lg p-6">
                                            <div className="flex justify-between items-start mb-4">
                                                <div>
                                                    <h3 className="text-xl font-bold text-gray-800">{order.customerName}</h3>
                                                    <p className="text-gray-600 text-sm">{formatTime(order.timestamp)}</p>
                                                </div>
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={() => updateOrder(order.id, { status: 'completed' })}
                                                        className="bg-green-500 text-white p-2 rounded-lg hover:bg-green-600"
                                                    >
                                                        <Check size={20} />
                                                    </button>
                                                    <button
                                                        onClick={() => deleteOrder(order.id)}
                                                        className="bg-red-500 text-white p-2 rounded-lg hover:bg-red-600"
                                                    >
                                                        <Trash2 size={20} />
                                                    </button>
                                                </div>
                                            </div>

                                            <div className="space-y-2 mb-4">
                                                {order.items.map((item, idx) => (
                                                    <div key={idx} className="flex justify-between text-gray-700">
                                                        <span>{item.quantity}x {item.name}</span>
                                                        <span>{(item.price * item.quantity).toFixed(2)} ‚Ç¨</span>
                                                    </div>
                                                ))}
                                                <div className="border-t pt-2 flex justify-between font-bold text-orange-600">
                                                    <span>Gesamt (inkl. Lieferung):</span>
                                                    <span>{order.total.toFixed(2)} ‚Ç¨</span>
                                                </div>
                                            </div>

                                            {order.specialRequests && (
                                                <div className="bg-yellow-50 p-3 rounded-lg">
                                                    <p className="text-sm font-bold text-gray-700">Extraw√ºnsche:</p>
                                                    <p className="text-sm text-gray-600">{order.specialRequests}</p>
                                                </div>
                                            )}
                                        </div>
                                    ))
                                )}
                            </div>
                        </div>
                    </div>
                );
            }

            // Admin View - Products Management
            if (view === 'adminProducts' && isAdmin) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-red-50 p-4">
                        <div className="max-w-6xl mx-auto">
                            <header className="bg-white rounded-lg shadow-lg p-6 mb-6">
                                <div className="flex justify-between items-center">
                                    <h1 className="text-3xl font-bold text-orange-600">Produkte verwalten</h1>
                                    <div className="flex gap-3">
                                        <button
                                            onClick={() => setView('admin')}
                                            className="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"
                                        >
                                            ‚Üê Bestellungen
                                        </button>
                                        <button
                                            onClick={() => setEditingProduct({ name: '', price: 0, imageUrl: '', description: '' })}
                                            className="bg-green-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-600"
                                        >
                                            <Plus size={20} />
                                            Neues Produkt
                                        </button>
                                    </div>
                                </div>
                            </header>

                            {/* Sales Statistics */}
                            <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                                <h2 className="text-xl font-bold mb-4 text-gray-800">Verkaufsstatistik</h2>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    {products.map(product => (
                                        <div key={product.id} className="bg-orange-50 p-4 rounded-lg">
                                            <p className="font-bold text-gray-800">{product.name}</p>
                                            <p className="text-2xl font-bold text-orange-600">{product.totalSold || 0}x</p>
                                            <p className="text-sm text-gray-600">verkauft</p>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {editingProduct && (
                                <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                                    <h2 className="text-xl font-bold mb-4">
                                        {editingProduct.id ? 'Produkt bearbeiten' : 'Neues Produkt'}
                                    </h2>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <input
                                            type="text"
                                            placeholder="Name"
                                            value={editingProduct.name}
                                            onChange={(e) => setEditingProduct({ ...editingProduct, name: e.target.value })}
                                            className="border border-gray-300 rounded-lg px-4 py-2"
                                        />
                                        <input
                                            type="number"
                                            step="0.01"
                                            placeholder="Preis"
                                            value={editingProduct.price}
                                            onChange={(e) => setEditingProduct({ ...editingProduct, price: parseFloat(e.target.value) || 0 })}
                                            className="border border-gray-300 rounded-lg px-4 py-2"
                                        />
                                        <input
                                            type="text"
                                            placeholder="Bild URL (z.B. https://...)"
                                            value={editingProduct.imageUrl}
                                            onChange={(e) => setEditingProduct({ ...editingProduct, imageUrl: e.target.value })}
                                            className="border border-gray-300 rounded-lg px-4 py-2 md:col-span-2"
                                        />
                                        <input
                                            type="text"
                                            placeholder="Beschreibung"
                                            value={editingProduct.description}
                                            onChange={(e) => setEditingProduct({ ...editingProduct, description: e.target.value })}
                                            className="border border-gray-300 rounded-lg px-4 py-2 md:col-span-2"
                                        />
                                    </div>
                                    {editingProduct.imageUrl && (
                                        <div className="mt-4">
                                            <p className="text-sm text-gray-600 mb-2">Vorschau:</p>
                                            <img 
                                                src={editingProduct.imageUrl} 
                                                alt="Preview"
                                                className="w-32 h-32 object-cover rounded-lg"
                                                onError={(e) => {
                                                    e.target.style.display = 'none';
                                                }}
                                            />
                                        </div>
                                    )}
                                    <div className="flex gap-3 mt-4">
                                        <button
                                            onClick={() => {
                                                if (editingProduct.id) {
                                                    updateProduct(editingProduct.id, editingProduct);
                                                } else {
                                                    addProduct(editingProduct);
                                                }
                                                setEditingProduct(null);
                                            }}
                                            className="bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600"
                                        >
                                            Speichern
                                        </button>
                                        <button
                                            onClick={() => setEditingProduct(null)}
                                            className="bg-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-400"
                                        >
                                            Abbrechen
                                        </button>
                                    </div>
                                </div>
                            )}

                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {products.map(product => (
                                    <div key={product.id} className="bg-white rounded-lg shadow-lg overflow-hidden">
                                        <div className="aspect-square bg-gradient-to-br from-orange-100 to-red-100 flex items-center justify-center overflow-hidden">
                                            {imageError[product.id] ? (
                                                <div className="text-6xl">üçû</div>
                                            ) : (
                                                <img 
                                                    src={product.imageUrl} 
                                                    alt={product.name}
                                                    className="w-full h-full object-cover"
                                                    onError={() => handleImageError(product.id)}
                                                />
                                            )}
                                        </div>
                                        <div className="p-4">
                                            <h3 className="font-bold text-xl text-gray-800">{product.name}</h3>
                                            <p className="text-gray-600 text-sm mt-1">{product.description}</p>
                                            <p className="text-sm text-orange-500 mt-1">Verkauft: {product.totalSold || 0}x</p>
                                            <div className="mt-3 flex justify-between items-center">
                                                <span className="text-2xl font-bold text-orange-600">{product.price.toFixed(2)} ‚Ç¨</span>
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={() => setEditingProduct(product)}
                                                        className="bg-blue-500 text-white p-2 rounded-lg hover:bg-blue-600"
                                                    >
                                                        <Edit2 size={16} />
                                                    </button>
                                                    <button
                                                        onClick={() => deleteProduct(product.id)}
                                                        className="bg-red-500 text-white p-2 rounded-lg hover:bg-red-600"
                                                    >
                                                        <Trash2 size={16} />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<BakeryOrderSystem />);
    </script>
</body>
</html>
